---
import Link from '@/components/Link.astro'
import { NAV_LINKS } from '@/consts'

const currentPath = Astro.url.pathname
---

<div>
  <div class="mx-auto mt-2 max-w-3xl space-y-2 px-4 py-3">
    <Link href="/" class="flex items-baseline gap-x-2">
      <h3 class="text-xl font-medium">Donghak Kim</h3>
      <p class="text-muted-foreground text-sm">
        Software &bull; Cloud Engineer
      </p>
    </Link>

    <div class="mt-4 grid grid-flow-col border text-sm">
      {
        NAV_LINKS.map((item) => {
          const isActive =
            item.href === currentPath ||
            (item.href !== '/' && currentPath.startsWith(item.href))

          return (
            <Link
              href={item.href}
              class={`py-2 text-center capitalize transition-colors ${
                isActive
                  ? 'text-foreground bg-neutral-100 font-medium'
                  : 'text-foreground/60 hover:text-foreground'
              }`}
            >
              {item.label}
            </Link>
          )
        })
      }
    </div>
  </div>
</div>
